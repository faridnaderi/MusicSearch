var APP=angular.module("MusicSearchApp",["ngSanitize"]);APP.controller("AppCtrl",["$scope","$timeout","$window",function(n,t,i){n.inputFocused=!1;n.$on("SearchInputFocused",function(){n.inputFocused=!0;$(".banner").css("height",angular.element(i).innerHeight()/2-25)})}]);APP.controller("BannerCtrl",["$scope","$element","$window","$timeout",function(n,t,i,r){n.CalcHeight=function(){if(!n.$parent.inputFocused){var r=angular.element(i).innerHeight()-130;$(t).css("height",r)}};angular.element(i).bind("resize",function(){n.CalcHeight()});n.CalcHeight();r(function(){$(t).find(".fadeTo").fadeIn(500)},300)}]);APP.controller("SearchCtrl",["$scope","$element","$timeout","$http",function(n,t,i,r){i(function(){$(t).find(".fadeIn").removeClass("vertical");i(function(){$(t).find(".search-input-container > .container > div").removeClass("small")},400)},600);n.InputFocused=function(){i(function(){$("body").addClass("overflow-auto")},800);n.$emit("SearchInputFocused")};n.Shuffle=function(n){for(var i,r,t=n.length;t;t--)i=Math.floor(Math.random()*t),r=n[t-1],n[t-1]=n[i],n[i]=r;return n};n.Search=function(){n.searchTerm&&r.get("https://api.spotify.com/v1/search?q="+n.searchTerm+"&type=album,artist").then(function(t){n.data=t.data;console.log(n.data);n.allData=n.Shuffle(n.data.albums.items.concat(n.data.artists.items))})};n.ViewMore=function(){r.get("https://api.spotify.com/v1/search?q="+n.searchTerm+"&type=album,artist&offset=20").then(function(t){var i=n.Shuffle(t.data.albums.items.concat(t.data.artists.items));n.allData=n.allData.concat(i)})}}]);